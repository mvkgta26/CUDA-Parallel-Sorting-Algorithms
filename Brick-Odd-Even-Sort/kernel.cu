#ifndef __CUDACC__
	#define __CUDACC__
#endif

#include <cuda_runtime.h>
#include "device_launch_parameters.h"
#include <cuda.h>
#include "device_functions.h"
#include <cuda_runtime_api.h>
#include <stdio.h>
#include <time.h>
#include <windows.h>
#include < time.h >
#include <iostream>




//--------------------------------------------------------GPU TIMER LIBRARY--------------------------------------------------------------------

struct GpuTimer
{
	cudaEvent_t start;
	cudaEvent_t stop;

	GpuTimer()
	{
		cudaEventCreate(&start);
		cudaEventCreate(&stop);
	}

	~GpuTimer()
	{
		cudaEventDestroy(start);
		cudaEventDestroy(stop);
	}

	void Start()
	{
		cudaEventRecord(start, 0);
	}

	void Stop()
	{
		cudaEventRecord(stop, 0);
	}

	float Elapsed()
	{
		float elapsed;
		cudaEventSynchronize(stop);
		cudaEventElapsedTime(&elapsed, start, stop);
		return elapsed;
	}
};

//-----------------------------------------------------------------------------------------------------------------------------

using namespace std;


__global__ void odd_even(int* arr, int n)   // n = array size
{
	
	int idx = threadIdx.x;

	int f_even = idx * 2;    
	int s_even = f_even + 1;

	int f_odd = idx * 2 + 1;    
	int s_odd = f_odd + 1;

	//Copy all inputs array from global memory to shared memory
	extern __shared__ float sh_arr[];
	sh_arr[f_even] = arr[f_even];
	sh_arr[s_even] = arr[s_even];

	//EXCEPTION-CASE : If input array is odd length and If this is the last thread index, Copy the last element to shared array from arr
	if ( (n % 2 != 0) && (idx == (n/2 - 1)) )
	{
		sh_arr[s_odd] = arr[s_odd];
	}

	__syncthreads();

	for (int i = 0; i < n/2; i++)
	{

		//--------------------------Sort Even Pairs--------------------------------------------------

		//If the pair is in ascending order already
		if (sh_arr[s_even] >= sh_arr[f_even])
		{
			//Ignore
		}


		//If the pair is NOT in ascending order already
		else
		{
			//Swap both of them
			int temp = sh_arr[s_even];
			sh_arr[s_even] = sh_arr[f_even];
			sh_arr[f_even] = temp;

		}


		__syncthreads();    //BARRIER

		//--------------------------Sort Odd Pairs--------------------------------------------------

		if (s_odd >= n)	continue;    //Case of final OVERFLOW odd pair

		//If the pair is in ascending order already
		if (sh_arr[s_odd] >= sh_arr[f_odd])
		{
			//Ignore
		}


		//If the pair is NOT in ascending order already
		else
		{
			//Swap both of them
			int temp = sh_arr[s_odd];
			sh_arr[s_odd] = sh_arr[f_odd];
			sh_arr[f_odd] = temp;

		}

		__syncthreads();  //BARRIER

	}

	//Copy back from shared memory array to global memory array
	arr[f_even] = sh_arr[f_even];
	arr[s_even] = sh_arr[s_even];
	__syncthreads();
}

/*
 void seq_bubble_sort(int* arr, int n)      //In-Place Sequential Bubble Sort
{
	int i, k, flag, temp;
	for (k = 1; k < (n - 1); k++)
	{
		flag = 0;
		for (i = 0; i < (n - k); i++)
		{
			if (arr[i] > arr[i + 1])
			{
				temp = arr[i];    //
				arr[i] = arr[i + 1];  //  Swapping A[i+1] and A[i]
				arr[i + 1] = temp;  //
			}
		}
	}
}
*/

int main(int argc, int** argv)
{   
	cudaFree(0);


	GpuTimer timer;

	

	/*
	int h_arr[] =
	{ 215, 654, 554, 695, 891, 29, 305, 99, 869, 728, 280, 22, 533, 201, 676, 375, 678, 500, 247, 267, 763, 212, 905, 403, 937, 857, 367, 863, 265, 66, 238, 571, 412, 262, 813, 611, 360, 102, 865, 32, 834, 924, 889, 178, 797, 871, 179, 422, 7, 200, 133, 247, 996, 328, 698, 525, 659, 910, 365, 71, 97, 16, 622, 789, 580, 805, 11, 539, 600, 329, 584, 361, 592, 442, 170, 332, 657, 528, 422, 838, 603, 220, 513, 768, 967, 620, 600, 756, 793, 379, 397, 473, 132, 539, 946, 469, 802, 446, 345, 92, 619, 112, 780, 362, 999, 133, 626, 982, 716, 219, 544, 321, 463, 173, 771, 828, 678, 712, 837, 625, 186, 417, 240, 64, 745, 966, 786, 898, 840, 149, 228, 232, 409, 651, 149, 480, 549, 292, 855, 460, 950, 839, 26, 544, 637, 560, 640, 731, 936, 481, 390, 537, 786, 191, 194, 21, 920, 813, 234, 525, 475, 413, 535, 259, 240, 176, 385, 385, 249, 595, 793, 69, 415, 828, 267, 132, 613, 857, 368, 81, 200, 129, 964, 270, 158, 781, 14, 239, 739, 715, 278, 70, 289, 273, 152, 420, 528, 564, 401, 157, 47, 854, 879, 917, 385, 550, 416, 603, 863, 745, 320, 240, 115, 12, 33, 520, 795, 964, 630, 178, 185, 475, 356, 1, 60, 53, 725, 913, 531, 90, 484, 60, 958, 324, 669, 780, 762, 644, 230, 496, 186, 147, 3, 850, 406, 144, 67, 371, 142, 738, 239, 634, 11, 467, 433, 359, 397, 495, 442, 294, 299, 847, 30, 631, 743, 824, 100, 20, 698, 364, 173, 499, 433, 469, 246, 862, 172, 775, 605, 578, 357, 267, 639, 728, 619, 890, 214, 832, 83, 836, 589, 474, 693, 723, 883, 770, 179, 412, 478, 136, 767, 37, 46, 711, 171, 772, 747, 16, 959, 1, 739, 738, 179, 870, 518, 518, 324, 642, 900, 571, 179, 287, 273, 130, 564, 36, 354, 98, 679, 329, 568, 652, 664, 576, 386, 442, 374, 878, 59, 854, 737, 227, 66, 801, 882, 804, 208, 613, 593, 60, 474, 404, 162, 732, 532, 966, 527, 621, 329, 963, 707, 276, 791, 301, 147, 471, 53, 970, 21, 702, 247, 238, 634, 304, 419, 709, 392, 546, 285, 833, 492, 165, 813, 721, 632, 289, 97, 97, 1000, 384, 393, 132, 702, 664, 692, 900, 673, 86, 26, 378, 273, 98, 693, 908, 600, 79, 220, 893, 881, 901, 396, 178, 550, 641, 847, 917, 502, 411, 917, 67, 146, 812, 822, 894, 504, 150, 94, 110, 583, 223, 115, 157, 22, 560, 751, 714, 571, 230, 493, 573, 625, 585, 123, 888, 802, 605, 19, 597, 971, 414, 381, 784, 113, 26, 949, 671, 160, 852, 249, 520, 89, 522, 354, 293, 411, 758, 755, 497, 923, 997, 536, 322, 160, 277, 947, 588, 94, 185, 977, 377, 792, 27, 986, 181, 175, 697, 107, 917, 148, 335, 622, 354, 345, 837, 885, 829, 575, 650, 393, 614, 767, 19, 71, 683, 308, 830, 978, 4, 149, 140, 304, 100, 615, 725, 324, 590, 705, 200, 80, 607, 102, 608, 742, 504, 309, 224, 42, 499, 688, 651, 537, 691, 350, 438, 50, 707, 562, 889, 619, 138, 68, 789, 310, 176, 722, 788, 743, 377, 600, 777, 138, 381, 172, 204, 214, 614, 793, 493, 422, 118, 922, 164, 299, 394, 361, 977, 93, 293, 742, 637, 748, 565, 18, 646, 28, 103, 324, 852, 852, 808, 262, 444, 937, 284, 440, 585, 623, 194, 107, 383, 751, 612, 546, 476, 200, 106, 388, 505, 719, 393, 470, 450, 649, 388, 338, 896, 725, 22, 154, 674, 900, 211, 616, 818, 656, 626, 736, 706, 423, 786, 503, 404, 261, 772, 150, 836, 209, 845, 420, 988, 83, 747, 358, 286, 704, 640, 90, 167, 208, 58, 373, 806, 358, 424, 777, 724, 814, 557, 93, 634, 915, 160, 686, 555, 919, 390, 418, 614, 387, 963, 698, 277, 62, 222, 807, 609, 994, 242, 16, 721, 774, 343, 994, 788, 92, 176, 731, 580, 204, 294, 814, 105, 935, 628, 57, 603, 938, 295, 122, 614, 962, 272, 682, 950, 960, 22, 60, 613, 469, 232, 665, 381, 211, 374, 380, 90, 752, 914, 464, 990, 97, 366, 466, 823, 836, 542, 747, 133, 221, 273, 231, 329, 351, 501, 694, 582, 267, 912, 470, 503, 453, 361, 771, 944, 94, 209, 772, 720, 285, 585, 25, 918, 271, 295, 603, 186, 34, 606, 607, 146, 679, 26, 334, 400, 693, 577, 59, 820, 139, 446, 191, 949, 853, 936, 322, 589, 440, 448, 822, 891, 705, 714, 281, 491, 840, 749, 265, 35, 583, 215, 883, 995, 99, 839, 439, 899, 481, 88, 28, 402, 34, 549, 695, 915, 801, 948, 517, 623, 108, 945, 959, 334, 807, 364, 272, 420, 864, 199, 378, 525, 178, 353, 457, 155, 956, 698, 725, 619, 880, 65, 697, 68, 168, 904, 638, 615, 145, 889, 378, 253, 999, 91, 155, 896, 160, 920, 504, 112, 167, 381, 272, 706, 111, 524, 398, 830, 460, 426, 838, 329, 222, 498, 307, 727, 843, 701, 493, 110, 792, 933, 428, 14, 826, 627, 784, 627, 306, 916, 894, 521, 910, 288, 183, 881, 716, 916, 745, 99, 88, 953, 796, 71, 679, 262, 446, 376, 134, 917, 349, 193, 207, 507, 449, 882, 482, 913, 257, 348, 41, 753, 18, 480, 407, 431, 572, 835, 270, 838, 403, 475, 244, 713, 455, 474, 568, 923, 473, 787, 806, 684, 699, 649, 633, 498, 221, 961, 3, 468, 908, 51, 836, 32, 248, 292, 346, 312, 15, 305, 523, 927, 55, 52, 920, 45, 933, 166, 187, 887, 451, 516, 594, 955, 881, 976, 426, 192, 480, 891, 25, 531, 861, 426, 732, 1000, 958, 705, 241, 4, 100, 909, 934, 570, 952, 278, 659, 61, 689, 400, 161, 596, 174, 737, 396, 502, 356, 95, 599, 475, 489, 243, 780, 314, 848, 385, 707, 468, 984, 300, 62, 507, 463, 740, 553, 497, 70, 480, 459, 100, 468, 490, 163, 533, 579, 383, 782, 976, 567, 439, 18, 549, 773, 995, 557, 912, 152, 985, 953, 388, 605, 66, 446, 951, 359, 570, 476, 539, 923, 190, 127, 927, 351, 166, 575, 304, 12, 36, 727, 939, 918, 179, 40, 758, 619, 198, 565, 688, 335, 975, 253, 452, 890, 808, 708, 860, 925, 532, 446, 720, 201, 203, 167, 744, 956, 497, 879, 14, 335, 630, 883, 50, 16, 258, 24, 849, 444, 376, 886, 824, 443, 858, 851, 408, 982, 397, 931, 68, 301, 189, 907, 695, 169, 580, 840, 721, 32, 484, 642, 442, 917, 796, 634, 658, 563, 96, 559, 402, 676, 108, 969, 229, 763, 965, 854, 208, 452, 778, 186, 769, 137, 749, 855, 700, 252, 568, 174, 0, 738, 799, 87, 76, 631, 61, 477, 307, 603, 48, 512, 758, 157, 512, 113, 536, 999, 416, 927, 183, 348, 622, 915, 191, 435, 866, 881, 373, 895, 413, 71, 867, 140, 648, 236, 810, 110, 960, 864, 122, 642, 628, 121, 441, 978, 111, 304, 982, 357, 47, 679, 176, 441, 73, 742, 379, 409, 876, 889, 666, 977, 357, 771, 756, 229, 699, 413, 442, 823, 609, 80, 278, 77, 842, 255, 24, 150, 368, 956, 333, 264, 722, 949, 946, 439, 358, 847, 155, 747, 472, 42, 746, 772, 577, 194, 853, 155, 636, 432, 397, 344, 303, 513, 112, 576, 993, 416, 292, 666, 748, 267, 818, 668, 598, 144, 825, 566, 446, 145, 545, 175, 772, 423, 925, 904, 136, 401, 971, 700, 236, 382, 11, 55, 393, 394, 402, 833, 70, 116, 908, 947, 712, 32, 217, 998, 338, 290, 853, 715, 261, 150, 79, 489, 404, 724, 326, 185, 699, 163, 813, 785, 896, 267, 555, 621, 321, 999, 858, 330, 40, 643, 721, 833, 368, 60, 610, 315, 597, 926, 448, 452, 788, 594, 254, 655, 858, 735, 199, 412, 293, 673, 239, 926, 356, 674, 3, 395, 448, 765, 907, 980, 676, 287, 878, 276, 356, 833, 843, 529, 877, 290, 697, 967, 955, 643, 539, 81, 17, 765, 870, 595, 729, 859, 181, 23, 997, 449, 624, 417, 499, 364, 603, 368, 110, 534, 386, 684, 865, 754, 916, 551, 762, 542, 772, 675, 662, 920, 80, 933, 252, 427, 183, 633, 909, 70, 479, 44, 453, 349, 920, 163, 784, 1000, 540, 225, 193, 751, 169, 217, 966, 647, 400, 249, 87, 878, 616, 187, 948, 81, 29, 161, 325, 352, 218, 727, 129, 592, 192, 621, 94, 978, 319, 806, 926, 854, 708, 518, 238, 223, 231, 571, 213, 819, 719, 415, 367, 142, 309, 587, 362, 745, 921, 53, 917, 148, 930, 397, 993, 440, 959, 495, 682, 927, 179, 804, 203, 536, 471, 43, 875, 428, 261, 987, 31, 346, 446, 661, 710, 991, 987, 240, 279, 380, 953, 846, 694, 668, 595, 967, 799, 899, 765, 829, 611, 208, 328, 279, 808, 432, 187, 732, 18, 283, 182 };
	*/
	
	
	//int h_arr[11] = {3, 7, 1, 10, 4, 20, 2, 8, 11, 12, 22};

	//int h_arr[500] = { 2989, 3866, 439, 1449, 1572, 2776, 877, 848, 3052, 3006, 3955, 88, 1728, 2139, 2883, 2479, 2768, 2927, 213, 2558, 3408, 2050, 2878, 3705, 3785, 1295, 3755, 2820, 2599, 441, 3675, 1614, 2394, 518, 1350, 761, 3462, 3990, 162, 829, 3373, 2856, 2300, 2934, 2683, 2351, 968, 3188, 602, 146, 3570, 1865, 3440, 3833, 354, 2929, 235, 1433, 2221, 3007, 3632, 400, 78, 441, 950, 1442, 1740, 2506, 1072, 1114, 2383, 3192, 1542, 3534, 1187, 425, 2567, 2652, 843, 1231, 3808, 2084, 3153, 1926, 2013, 1439, 3166, 3692, 2761, 3524, 3730, 3549, 2752, 1141, 2342, 1403, 2877, 1163, 3034, 2442, 1554, 2062, 1524, 1381, 370, 1736, 2536, 2473, 1067, 3326, 2249, 2169, 2867, 3955, 1224, 2809, 2259, 3559, 2469, 3980, 2920, 481, 752, 3753, 507, 2114, 1862, 3485, 2994, 760, 3340, 96, 2395, 1274, 1541, 2290, 3834, 2265, 3892, 1612, 3275, 495, 1663, 3874, 543, 512, 2614, 673, 1886, 2338, 1023, 157, 3445, 539, 1473, 1508, 3453, 2745, 171, 2536, 1123, 3831, 1748, 83, 3625, 11, 3022, 884, 2639, 3735, 501, 1109, 3456, 2192, 2849, 816, 1569, 787, 2011, 3044, 3716, 2143, 1327, 3415, 537, 1527, 1386, 3781, 1763, 896, 2413, 1217, 380, 2037, 1993, 3862, 3032, 3930, 2604, 1864, 1210, 979, 259, 3892, 338, 117, 427, 3316, 3022, 492, 1305, 3394, 1980, 53, 3994, 802, 1385, 361, 2995, 3275, 1726, 1486, 2376, 2070, 2851, 337, 3432, 3211, 1143, 875, 3785, 3778, 1312, 1607, 1712, 1261, 759, 3997, 1351, 473, 2088, 369, 1412, 2780, 684, 2047, 1786, 2064, 2027, 3603, 2158, 1131, 1251, 3681, 3575, 3163, 2555, 3366, 3864, 2142, 2804, 3508, 1184, 1946, 1197, 3260, 326, 1144, 3, 2827, 373, 1376, 1132, 2092, 1158, 1913, 1770, 3446, 3104, 183, 2332, 721, 3883, 1880, 1462, 377, 417, 254, 1038, 1513, 925, 3761, 3220, 107, 1921, 3998, 951, 3569, 966, 3503, 869, 3661, 1867, 2782, 253, 3580, 485, 2338, 899, 473, 900, 515, 2758, 1664, 2153, 2643, 1010, 2510, 3250, 1845, 3517, 3591, 282, 1506, 856, 2006, 2768, 2371, 1655, 984, 1368, 237, 2872, 1395, 313, 987, 2092, 659, 177, 3658, 2456, 3456, 2557, 452, 1512, 2387, 250, 1659, 3751, 1133, 490, 2022, 1748, 1613, 2695, 2217, 1893, 3432, 3766, 3016, 2783, 1921, 2721, 3892, 3988, 1498, 2702, 3824, 3273, 2088, 2021, 127, 415, 3980, 3543, 167, 2476, 1813, 519, 332, 667, 3844, 1143, 1413, 3898, 345, 1901, 184, 2098, 2578, 754, 2989, 1671, 3240, 411, 1591, 3103, 1615, 226, 1760, 3449, 2136, 3373, 2917, 3233, 3125, 658, 2767, 1938, 1955, 3227, 2686, 453, 3613, 2920, 2517, 1549, 3651, 1056, 1089, 2944, 1830, 2676, 219, 3461, 1973, 3393, 885, 872, 1074, 3463, 3171, 3437, 3366, 2806, 684, 1889, 23, 3300, 2538, 737, 947, 3405, 2884, 1904, 1003, 1822, 2304, 277, 2056, 2726, 2244, 2377, 2043, 201, 543, 701, 3829, 2911, 1822, 3969, 420, 2891, 2509, 2177, 2211, 3061, 1691, 3367, 472, 522, 317, 3566, 685, 3105, 92, 1670, 500, 2777, 1739, 2312, 359, 2279, 2663, 1161, 1242, 219, 2681, 1574, 3831, 409, 3177, 247, 3616, 3641, 621, 3157, 1326, 2027, 406 };
	int h_arr[400] = { 4201, 2043, 3941, 59, 4012, 3296, 4596, 2891, 1789, 1489, 4535, 1035, 2000, 4014, 3458, 1543, 3310, 1465, 1480, 2820, 3284, 1655, 4190, 3010, 4451, 2602, 4197, 1823, 4707, 4367, 4640, 3176, 1298, 4004, 2558, 3647, 1409, 1290, 353, 4182, 1948, 4323, 4499, 3628, 2678, 1101, 563, 3623, 4497, 720, 3951, 1996, 4161, 4066, 3207, 3544, 1234, 4015, 668, 2248, 703, 560, 1266, 3120, 456, 1516, 3637, 935, 3573, 612, 4539, 191, 1241, 610, 1741, 1894, 2472, 1096, 1489, 2241, 843, 1994, 4094, 4757, 1079, 1580, 4922, 356, 519, 4589, 4497, 1963, 4334, 3146, 4449, 1074, 2997, 4043, 2338, 2112, 2168, 3107, 4802, 2696, 896, 2700, 2961, 967, 3677, 1838, 722, 4818, 922, 1391, 2178, 1046, 135, 2222, 4394, 2732, 1832, 4768, 1195, 3433, 1447, 3608, 447, 2417, 699, 2093, 95, 1009, 880, 3603, 1512, 4902, 399, 3260, 3388, 2552, 3460, 3128, 4422, 3766, 4369, 4556, 836, 279, 2168, 2959, 1948, 3991, 4214, 3036, 4675, 3019, 1701, 95, 4989, 2228, 3983, 2469, 2562, 2397, 3487, 3145, 605, 3413, 789, 1659, 2686, 3253, 2619, 4914, 1193, 3097, 4346, 437, 4717, 3243, 1862, 1135, 531, 2935, 3930, 1419, 749, 352, 244, 4219, 1307, 38, 572, 4987, 1440, 2386, 875, 717, 2629, 1672, 3616, 1740, 3644, 3045, 3400, 4660, 4587, 833, 1674, 1423, 454, 3194, 2020, 1857, 3739, 4346, 3391, 4092, 2422, 976, 2985, 1633, 1384, 1662, 3395, 155, 4687, 1828, 4291, 4650, 2311, 3183, 2671, 4156, 4213, 2735, 1132, 502, 5, 2718, 2226, 113, 3402, 3634, 3095, 3397, 4565, 278, 137, 575, 91, 4348, 2231, 3653, 3640, 4201, 2174, 1262, 1281, 4991, 650, 4172, 3340, 1135, 737, 512, 1504, 2760, 506, 3769, 4914, 1437, 486, 3082, 3247, 1930, 706, 1004, 3610, 2490, 308, 4952, 4708, 1141, 3907, 4977, 4328, 1415, 1790, 2140, 1784, 2434, 4584, 2050, 512, 4668, 2662, 88, 1796, 4436, 351, 3479, 2137, 3959, 4899, 3104, 1272, 4434, 4386, 2893, 1681, 4925, 3942, 4618, 664, 3946, 0, 2450, 1353, 2069, 523, 59, 480, 4216, 4424, 3611, 2838, 3926, 927, 2825, 2659, 3390, 2358, 2402, 1361, 1415, 2808, 1002, 4108, 2501, 2388, 1571, 3891, 1986, 1297, 1770, 691, 4174, 3141, 3835, 2311, 944, 4615, 1622, 3046, 2168, 2500, 2961, 2670, 1465, 3164, 2551, 621, 2086, 2241, 1269, 2906, 4265, 4567, 2997, 3920, 417, 2435, 1281, 4616, 160, 1729, 557, 1072, 3531, 2745, 3676, 2420, 4560, 2515, 1538, 2780, 2521, 728, 0, 3814, 4457, 1445, 2152, 858, 2728, 1685, 2331, 937, 4802 };
	//int h_arr[2000] = { 693, 1100, 296, 1207, 80, 1619, 312, 1398, 583, 800, 56, 923, 209, 1504, 1204, 197, 1258, 661, 1301, 1225, 533, 593, 885, 1610, 1375, 1862, 486, 1738, 1268, 1296, 1519, 569, 1584, 628, 165, 977, 1190, 80, 467, 1362, 1426, 420, 1321, 1267, 1799, 695, 1322, 1053, 112, 1982, 1685, 1360, 1007, 1968, 1630, 9, 1064, 466, 1795, 1883, 508, 1933, 422, 1664, 1439, 1879, 1725, 254, 1196, 1234, 1669, 226, 351, 304, 739, 1421, 1554, 1381, 414, 150, 437, 1932, 969, 1298, 1641, 1503, 1577, 162, 1144, 1785, 1192, 766, 1342, 1331, 146, 1699, 712, 476, 777, 128, 1067, 927, 905, 638, 1531, 1586, 1858, 720, 1748, 1333, 1542, 862, 80, 1932, 902, 243, 1522, 426, 1127, 898, 1131, 793, 1490, 1568, 700, 510, 0, 976, 1325, 1080, 1239, 947, 1721, 1356, 86, 1777, 319, 479, 490, 93, 1866, 1122, 735, 1557, 537, 1506, 1470, 1452, 136, 1813, 1835, 1268, 1953, 81, 1523, 656, 1441, 378, 1720, 987, 1247, 1961, 191, 181, 236, 1109, 1054, 551, 1245, 961, 1255, 1120, 1938, 674, 1912, 686, 277, 348, 567, 1856, 1027, 1872, 1238, 764, 1654, 405, 581, 1872, 639, 781, 490, 922, 830, 1742, 1344, 1896, 377, 1192, 353, 367, 1334, 1218, 1851, 1123, 238, 122, 1138, 493, 528, 695, 1107, 1940, 1927, 1683, 95, 412, 677, 147, 269, 967, 1561, 1529, 1405, 1399, 1717, 201, 1349, 1762, 848, 378, 1181, 1441, 306, 1486, 1356, 766, 1098, 119, 1126, 1224, 497, 923, 294, 612, 1516, 346, 378, 1298, 1849, 11, 1449, 100, 212, 1734, 362, 505, 1361, 424, 909, 1491, 579, 1018, 151, 492, 550, 1238, 76, 758, 40, 823, 1925, 1116, 932, 1550, 1517, 1273, 1400, 278, 600, 383, 512, 455, 363, 1165, 619, 1141, 1735, 770, 1349, 85, 495, 484, 1605, 1657, 1285, 407, 1013, 1731, 868, 748, 560, 1888, 27, 499, 522, 210, 1462, 854, 522, 968, 1555, 234, 1810, 1524, 751, 1033, 1676, 1422, 133, 1583, 1752, 770, 634, 1230, 1916, 47, 1283, 579, 939, 337, 730, 573, 596, 1736, 1771, 219, 1722, 1641, 1382, 1567, 1667, 1161, 1387, 1934, 648, 584, 932, 281, 872, 48, 1046, 913, 88, 1510, 829, 1429, 191, 1232, 1735, 452, 1155, 1133, 1931, 967, 1597, 494, 40, 1759, 373, 1275, 341, 215, 1838, 1504, 1206, 958, 1483, 357, 1667, 79, 485, 93, 810, 302, 292, 1785, 1296, 349, 254, 679, 1344, 188, 1983, 1500, 708, 1039, 237, 428, 1457, 241, 701, 85, 1618, 1884, 1701, 607, 943, 1238, 3, 820, 1030, 1379, 826, 1473, 1166, 1886, 1896, 1425, 527, 732, 1581, 766, 947, 518, 1056, 239, 1200, 1767, 28, 1943, 1306, 1581, 1550, 828, 25, 1034, 435, 848, 1013, 1081, 1253, 1611, 1884, 1059, 1190, 9, 258, 1255, 1916, 81, 918, 692, 1167, 1884, 1848, 866, 1189, 1663, 1344, 1864, 1157, 1272, 1689, 61, 700, 521, 1943, 1087, 143, 1503, 1416, 1484, 689, 1428, 1325, 1210, 1665, 964, 1538, 199, 132, 388, 219, 116, 429, 445, 562, 357, 900, 255, 1231, 842, 979, 735, 946, 1143, 1603, 698, 316, 1429 };
	//int h_arr[100] = {1517, 523, 1944, 82, 126, 1955, 1376, 483, 887, 1271, 28, 1258, 968, 1381, 830, 1833, 935, 1954, 682, 1901, 1866, 1628, 576, 120, 657, 1290, 524, 111, 1464, 1560, 1014, 1395, 1192, 768, 416, 1667, 1477, 1293, 829, 1443, 899, 889, 1476, 749, 1184, 1740, 1965, 1447, 712, 966, 1750, 535, 1283, 1377, 1971, 952, 505, 363, 772, 53, 467, 534, 408, 1957, 1514, 601, 341, 563, 859, 857, 850, 710, 1018, 444, 1408, 1610, 253, 298, 1503, 939, 919, 1827, 800, 224, 1561, 450, 1814, 1909, 392, 1278, 1983, 1329, 1803, 1631, 952, 1585, 1900, 403, 1747, 118};
	//int h_arr[40] = { 1397, 1986, 1835, 23, 128, 1119, 26, 1661, 1659, 1482, 1854, 133, 46, 869, 151, 1362, 160, 175, 1211, 1926, 1092, 720, 1708, 1693, 1522, 1387, 390, 852, 1154, 1264, 865, 1842, 1600, 302, 1229, 748, 676, 1476, 1721, 349 };
	//int h_arr[60] = { 1311, 1495, 1157, 1665, 506, 534, 863, 250, 1903, 1225, 917, 280, 1077, 1900, 160, 1188, 186, 1425, 381, 456, 1461, 425, 483, 1017, 444, 250, 1365, 906, 1093, 956, 1586, 415, 1930, 1335, 419, 754, 1056, 103, 1651, 670, 1564, 403, 534, 1200, 1272, 1029, 1322, 1203, 732, 1566, 1041, 1002, 1084, 426, 1037, 1402, 20, 1558, 351, 1826 };

	//int h_arr[] =
	//{ 2205, 2295, 711, 591, 2108, 424, 1901, 3087, 2574, 2318, 1194, 24, 1079, 3293, 621, 160, 1603, 3372, 3485, 631, 633, 969, 3992, 2380, 1167, 1376, 3140, 2808, 3378, 2569, 997, 2516, 3465, 3690, 3559, 999, 323, 1243, 186, 2590, 1648, 1949, 171, 1209, 1804, 1255, 277, 1807, 2373, 1464, 2553, 3168, 2655, 3224, 2749, 2910, 196, 2808, 3820, 3092, 712, 3934, 947, 3802, 2185, 2726, 2702, 2005, 2637, 3690, 719, 2356, 1874, 2975, 2679, 3756, 248, 4, 55, 3672, 2004, 1612, 1314, 3688, 3017, 336, 2269, 1161, 3581, 3694, 3771, 286, 3254, 1882, 3693, 2034, 2695, 2010, 3144, 3227, 3256, 1815, 1035, 3442, 1791, 28, 737, 3526, 3139, 889, 2315, 566, 3802, 941, 1193, 1396, 3117, 3232, 1545, 163, 1153, 1536, 677, 617, 2488, 2969, 2428, 2705, 2722, 2368, 2266, 56, 2014, 795, 2313, 1460, 2419, 2556, 519, 312, 3537, 1489, 1278, 3206, 685, 2945, 2715, 158, 1229, 2476, 1255, 2723, 1842, 3422, 3274, 1016, 1273, 3356, 1420, 3290, 3209, 801, 2033, 3534, 2579, 2986, 2179, 1135, 2270, 2778, 336, 1356, 1334, 2252, 3956, 3913, 384, 2280, 3735, 164, 3792, 714, 856, 2551, 794, 2583, 2853, 3027, 193, 1966, 164, 2653, 1726, 616, 1062, 2947, 650, 706, 633, 1243, 2813, 470, 3635, 2593, 1586, 3784, 228, 1619, 1193, 3054, 821, 2964, 319, 1397, 621, 3854, 2383, 1639, 1056, 1219, 3488, 722, 2921, 2392, 401, 614, 1538, 2163, 1326, 1059, 216, 3063, 1442, 1551, 488, 1994, 3245, 3820, 2776, 2671, 260, 1044, 3671, 1708, 2922, 2568, 1860, 563, 2714, 413, 349, 797, 800, 2834, 799, 756, 1916, 3131, 3342, 3284, 2060, 439, 72, 2788, 3551, 1447, 3434, 2948, 1234, 2268, 1806, 780, 2617, 1485, 1304, 2242, 1473, 2407, 2038, 2036, 3977, 765, 3100, 1233, 1969, 1518, 2490, 2059, 2012, 2253, 3084, 925, 509, 563, 1741, 668, 2643, 562, 2929, 3256, 2245, 2208, 385, 3960, 196, 3551, 2080, 2460, 515, 3458, 2785, 2755, 2541, 896, 2127, 1264, 1587, 2321, 303, 1491, 3124, 2267, 1883, 1736, 815, 84, 372, 2109, 149, 3440, 1173, 1320, 2842, 1884, 3885, 2571, 2272, 71, 1186, 817, 1036, 2622, 1952, 3899, 2154, 957, 324, 1310, 2630, 2799, 961, 1872, 2616, 35, 1601, 1048, 334, 855, 2339, 3856, 3179, 2019, 646, 3227, 328, 2855, 3729, 2345, 2572, 453, 2235, 1660, 341, 1271, 1305, 1720, 2069, 3664, 3987, 1465, 3196, 438, 2141, 3278, 2057, 1919, 659, 3200, 814, 3127, 1768, 772, 2730, 1419, 250, 694, 3496, 358, 2069, 2319, 2182, 1310, 3448, 2628, 216, 1451, 1162, 2342, 533, 2872, 3044, 3686, 646, 1298, 596, 1236, 695, 2791, 155, 1390, 3343, 750, 2833, 3675, 3258, 3909, 3805, 3416, 3843, 3950, 117, 2519, 549, 2939, 2190, 1114, 1395, 3096, 131, 3080, 263, 3584, 1367, 763, 670, 1599, 1772, 3902, 2868, 3242, 1323, 3236, 1900, 3953, 3225, 492, 979, 3795, 1453, 1028, 3964, 806, 3885, 2728, 2607, 3858, 1687, 865, 2743, 1680, 339, 2958, 1172, 65, 2077, 389, 1759, 3102, 408, 1179, 3216, 257, 2016, 3731, 1270, 2646, 2452, 1507, 188, 3940, 2393, 1738, 1727, 2309, 2081, 1294, 3991, 274, 185, 1545, 1153, 1486, 2560, 3530, 3471, 196, 1310, 2216, 1308, 1499, 2891, 1560, 2955, 3565, 37, 3010, 3464, 1965, 3252, 3160, 1004, 3176, 613, 2319, 3349, 1802, 250, 3567, 2471, 892, 3518, 747, 3719, 1525, 656, 2177, 2930, 2970, 3459, 129, 3840, 268, 265, 1553, 542, 642, 1976, 3067, 2642, 2665, 635, 1054, 1524, 3470, 3385, 3803, 99, 212, 1852, 210, 705, 594, 3736, 2366, 2231, 277, 3450, 2846, 2554, 1600, 1445, 851, 3178, 998, 2351, 2176, 1572, 21, 543, 2305, 1997, 2832, 3509, 1021, 2674, 2823, 3885, 487, 3678, 1916, 2227, 3882, 2594, 2170, 3696, 3731, 1204, 3213, 1944, 3107, 993, 3756, 1508, 2893, 3085, 765, 1227, 2133, 1395, 3545, 1456, 2263, 266, 2585, 1970, 3495, 2861, 3525, 654, 3246, 2395, 3856, 1842, 626, 2796, 3697, 2527, 1803, 2741, 1387, 2978, 3692, 3515, 3972, 2115, 3656, 1627, 1741, 139, 3002, 271, 3996, 838, 3089, 713, 2764, 3822, 3848, 3017, 3473, 3184, 1698, 2058, 1623, 25, 3916, 3015, 987, 3105, 3125, 625, 1130, 3094, 692, 3414, 2649, 667, 554, 3112, 3831, 2070, 2741, 121, 305, 180, 1543, 900, 3049, 3673, 2123, 997, 2948, 2170, 2043, 1277, 2953, 1692, 2166, 1820, 3104, 104, 594, 3204, 1753, 1595, 601, 3608, 233, 173, 491, 1307, 1405, 3932, 2052, 2503, 3617, 2872, 3785, 3982, 1518, 3492, 3628, 2552, 1288, 2260, 3932, 2, 1098, 2967, 3802, 1035, 101, 615, 3501, 1671, 2686, 1775, 2523, 1041, 1970, 238, 1637, 2589, 2906, 3621, 298, 724, 409, 1569, 1538, 837, 3043, 3724, 2134, 841, 1692, 3937, 1673, 3809, 3861, 255, 751, 2224, 736, 497, 3113, 2834, 1087, 3476, 2869, 2771, 3605, 2462, 3688, 3374, 3275, 1339, 378, 642, 2629, 34, 2370, 1770, 2229, 1387, 2681, 3753, 3175, 1856, 1023, 3196, 3734, 1960, 1449, 3271, 1908, 3288, 2058, 2765, 2241, 1601, 3053, 1440, 3120, 3267, 3182, 1722, 520, 2535, 3853, 2051, 1202, 887, 3345, 3131, 2174, 3566, 3569, 1118, 2583, 3268, 2666, 1384, 1501, 3233, 313, 2094, 724, 3576, 1469, 2689, 3123, 989, 3106, 3989, 3949, 619, 3211, 1037, 1996, 3335, 2505, 3442, 2551, 1856, 3211, 2720, 1685, 325, 832, 2107, 1288, 1938, 512, 2356, 3070, 3217, 3288, 1719, 793, 367, 3786, 2292, 400, 2114, 2507, 67, 2750, 2481, 3606, 1998, 1988, 3246, 2329, 2356, 2993, 2043, 957, 1986, 2259, 492, 2558, 1870, 3249, 2728, 3323, 1948, 2436, 3473, 3453, 228, 576, 877, 774, 2704, 2552, 1689, 1277, 2508, 226, 1658, 3728, 2801, 3880, 3916, 460, 3971, 475, 381, 2220, 3860, 378, 2417, 1275, 1938, 2493, 2985, 2733, 3964, 80, 247, 2418, 1368, 1458, 614, 1424, 1227, 1848, 3595, 1987, 598, 1264, 1731, 3533, 940, 2514, 3972, 793, 2980, 914, 2873, 3936, 767, 3430, 846, 184, 2647, 1599, 2938, 2948, 3286, 37, 2352, 3660, 3611, 2634, 1166, 3998, 1436, 3111, 1643, 3242, 3864, 1978, 2983, 3139, 1462, 3774, 1388, 3070, 3099, 3128, 2681, 830, 2208, 2478, 2174, 2402, 3517, 1819, 1864, 84, 822, 1836, 1215, 134, 2768, 3468, 1560, 3151, 1624, 341, 344, 2662, 1189, 1963, 390, 2292, 1475, 3490, 569, 1959, 3074, 2207, 456, 1353, 3836, 356, 3152, 496, 1519, 972, 3230, 2483, 3132, 2793, 3209, 2974, 777, 2916, 3351, 1396, 2960, 3752, 1622, 1182, 744, 3594, 3851, 3764, 3881, 2332, 3550, 3424, 2803, 1433, 1226, 1257, 924, 2955, 2484, 1210, 3867, 2716, 2390, 959, 1810, 442, 881, 3655, 1326, 278, 1780, 940, 3766, 3049, 2296, 2347, 564, 3141, 788, 1903, 2021, 3931, 472, 828, 398, 59, 3460, 2923, 487, 1478, 2763, 1869, 1130, 1230, 1978, 2141, 3378, 252, 1559, 772, 3144, 3991, 900, 2761, 1794, 1514, 2146, 158, 1932, 3739, 2437, 2832, 1958, 3334, 2543, 1831, 1147, 3720, 2436, 2871, 543, 3084, 3712, 788, 1112, 1084, 3360, 1930, 3697, 1019, 3463, 1316, 1911, 2200, 484, 1382, 3421, 3995, 3580, 1905, 2473, 2856, 1793, 3283, 2811, 269, 3159, 2382, 1290, 1349, 3131, 343, 1784, 2929, 2002, 2656, 1550, 1423, 606, 1395, 3903, 1786, 1958, 518, 3874, 2753, 3407, 2794, 2799, 2173, 3997, 879, 3589, 3085, 1970, 2575, 2957, 2186, 3175, 2922, 3956, 1377, 674, 759, 528, 1342, 594, 3736, 2493, 695, 1955, 2278, 2405, 341, 3776, 3996, 3970, 266, 1109, 1031, 2431, 1119, 702, 2385, 2341, 2829, 3630, 554, 2055, 1161, 123, 2770, 376, 3102, 3997, 3333, 2957, 3336, 3095, 1211, 1601, 2567, 1815, 3193, 3266, 2789, 323, 2745, 1608, 2047, 3836, 2437, 1543, 1809, 3888, 1079, 3045, 1069, 3630, 3808, 3329, 1364, 3800, 675, 3594, 109, 591, 2198, 3667, 2319, 1911, 3792, 2512, 3272, 2299, 3463, 2922, 2036, 1717, 593, 1101, 1700, 3621, 2827, 1667, 3916, 1573, 3815, 164, 924, 1899, 316, 3755, 3710, 2958, 380, 153, 797, 1717, 3670, 2587, 3525, 1063, 2472, 3148, 2014, 1952, 1012, 2422, 3618, 1662, 3, 198, 1541, 2184, 2878, 765, 151, 2794, 3506, 805, 3909, 978, 268, 133, 1449, 2373, 1901, 668, 438, 1815, 3311, 3112, 1956, 1019, 3768, 969, 1175, 2352, 3912, 222, 3128, 3272, 228, 2966, 3066, 680, 549, 3523, 826, 2652, 3102, 1315, 295, 789, 171, 2132, 2305, 3660, 478, 166, 1352, 777, 3802, 3186, 1264, 528, 2359, 3323, 3316, 1003, 3443, 2168, 2315, 1152, 2316, 3252, 3593, 3729, 2544, 1194, 2034, 3186, 786, 1816, 1551, 2533, 808, 912, 2089, 2520, 3174, 2735, 3641, 3651, 2273, 635, 2743, 2435, 658, 2282, 3486, 2908, 408, 2775, 3395, 3134, 2597, 2873, 2093, 581, 130, 1810, 3220, 2979, 3780, 1001, 820, 338, 2752, 1248, 1797, 2090, 3953, 1527, 2856, 3476, 1536, 1929, 2948, 3405, 3839, 1487, 2377, 1896, 707, 3970, 3427, 2918, 3063, 1641, 1037, 735, 765, 3191, 3656, 1582, 1514, 441, 3315, 1570, 1943, 2665, 1274, 1143, 2422, 3736, 187, 2437, 3245, 1307, 2005, 114, 2971, 3018, 3406, 2256, 2656, 1813, 584, 3355, 370, 3617, 3620, 2789, 1240, 271, 685, 3450, 3272, 1723, 2039, 354, 2756, 2954, 2105, 2389, 592, 1068, 693, 1723, 3934, 1612, 2826, 3050, 2612, 111, 2545, 3117, 2781, 672, 865, 3758, 1570, 1487, 2073, 792, 1090, 228, 418, 1775, 96, 3518, 1319, 3361, 106, 416, 1511, 158, 3493, 3288, 1564, 1059, 1206, 1762, 3288, 2722, 2804, 2229, 175, 3707, 3375, 2549, 417, 1496, 2998, 1093, 342, 3486, 2443, 3824, 2647, 2159, 3350, 22, 1364, 2444, 2237, 3096, 3827, 2007, 3160, 2839, 519, 3525, 417, 3182, 3632, 1336, 1163, 568, 714, 3901, 3685, 1745, 1755, 1036, 2881, 2236, 3293, 2869, 2508, 807, 2996, 2763, 1670, 371, 3343, 1213, 1700, 1732, 2902, 616, 402, 989, 2331, 3012, 2522, 3745, 2399, 405, 2785, 3006, 160, 2599, 2807, 3148, 161, 91, 1605, 2119, 2609, 3547, 2704, 1236, 2078, 2975, 1717, 3908, 1576, 914, 1691, 1658, 1521, 3675, 2083, 3549, 3219, 3805, 2178, 2082, 74, 1946, 1186, 2082, 1114, 2271, 2402, 2579, 2037, 3800, 2745, 313, 2323, 3672, 1479, 590, 2542, 2335, 249, 1801, 2007, 2173, 2066, 591, 3708, 1156, 1979 };


	int n = sizeof(h_arr) / sizeof(h_arr[0]);     // n = size of array


	
	//------------------------------------------------------Create and Allocate d_arr[]
	int* d_arr;
	int size = sizeof(h_arr[0]) * n;
	cudaMalloc((void**)&d_arr, size);   //Allocate memory for 5 int in d_arr  (Device global memory)
	cudaMemcpy((void*)d_arr, (void*)h_arr, size, cudaMemcpyHostToDevice);   //Copy values from h_arr[] to d_arr[]
	

	
	int k = n / 2;										
	
	
	timer.Start();
	

	odd_even <<< 1, k, n * sizeof(d_arr[0]) >>> (d_arr, n);    //The third kernel parameter is for the shared memory size in the thread block


	timer.Stop();
	double GPU_time_inter = timer.Elapsed();



	cudaMemcpy((void*)h_arr, (void*)d_arr, size, cudaMemcpyDeviceToHost);   //Copy values from d_arr[] to h_arr[] 

	

	//Print host array [] . Sorted.
	for (int i = 0; i < n; i++)
	{
		printf("%d  ", h_arr[i]);
	}



	return 0;
}
